<html>
    <body>
        <script>
            let processoAssincrono = new Promise((resolve, reject) => {
                setTimeout(() => resolve('Sucesso no processo assíncrono'), 3000)
            })

            async function recuperarDados() { // Função assincrona, usa o await para aguardar os 3000 segundos para ser executado a função
                await processoAssincrono.then(p => console.log(p))

                console.log('Processamento assíncrono 1')

                await fetch('https://jsonplaceholder.typicode.com/comments')
                    .then(r => r.json())
                    .then(d => console.log('COMMENTS: ', d))

                console.log('Processamento assíncrono 2')

                await fetch('https://jsonplaceholder.typicode.com/posts')
                    .then(r => r.json())
                    .then(d => console.log('POSTS: ', d))

                console.log('Processamento assíncrono 3')

                return 'Fim'
            }

            recuperarDados().then(p => console.log(p)) // async, também é uma promisse porque a função pode ser usada o "then"
            
        </script>
    </body>
</html>